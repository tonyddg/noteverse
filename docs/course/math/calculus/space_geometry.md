# 空间几何
## 方向余弦
$$\vec{a} = \{a_x, a_y, a_z\}$$
$$\cos\alpha = \frac{a_x}{|\vec{a}|},\;
\cos\beta = \frac{a_y}{|\vec{a}|},\;
\cos\gamma = \frac{a_z}{|\vec{a}|}$$
角度为 $\vec{a}$ 与对应坐标轴的夹角
### 性质
$$\cos^2\alpha + \cos^2\beta + \cos^2\gamma = 1$$
将一组与 $a_x, a_y, a_z$ 成比例的数称为 $\vec{a}$ 的方向数  
一组方向数非零且与 $\vec{a}$ 共线
## 平面方程
### 一般方程
$$Ax+By+Cz+D=0$$
$\{A,B,C\}$ 为平面法向量，$D$由平面过的点决定
### 截距式
$$\frac{x}{a}+\frac{y}{b}+\frac{z}{c}=1$$
$\{a,b,c\}$ 为截距
## 直线方程
### 一般方程
$$A_1x+B_1y+C_1z+D_1=0\\
A_2x+B_2y+C_2z+D_2=0$$
为任意两个不同的过直线的平面
### 点向式
$$\frac{x-x_0}{a}=\frac{y-y_0}{b}=\frac{z-z_0}{c}$$
$\{x_0, y_0, z_0\}$ 为直线过的点  
$\{a,b,c\}$ 为直线方向矢量  
$a = 0$ 时单独表示 $x = x_0$
### 参数方程
$$\vec{r} = \vec{r_0} + \vec{s}t$$
### 转换
一般式转点向式
$$\{A_1, B_1, C_1\} \times \{A_2, B_2, C_2\} = \{a,b,c\}$$
通过令 $x=0$ 求出直线上的点, 再带入直线上的点解出参数
$$\{x_0, y_0, z_0\}$$
## 距离问题
### 点到平面
$$d = \frac{|Ax+By+Cz+D|}{\sqrt{A^2+B^2+C^2}}$$
### 点到直线
$$d=\frac{|\vec{s}\times\vec{PP_0}|}{|\vec{s}|}$$
$\vec{s}$ 直线的方向矢量(直角边)
$\vec{PP_0}$ 直线上的一点到计算点的矢量(斜边)
叉乘得到两者夹角乘以 $\sin\theta$
### 异面直线
$$\frac{|[\vec{s_1}\;\vec{s_2}\;\vec{P_1, P_2}]|}{|\vec{s_1}\times\vec{s_2}|}$$
$\vec{s_1}$ 第一条线的方向矢量
$\vec{s_2}$ 第二条线的方向矢量
$\vec{P_1, P_2}$ 直线上两点的矢量
$\vec{s_1}$，$\vec{s_2}$，$\vec{P_1, P_2}$ 构成一个三棱柱，通过混合积计算出其面积，除以 $\vec{s_1}$，$\vec{s_2}$ 构成的面，得到此面的高，即异面直线距离
## 角度问题
### 两面夹角
$$\cos\theta=\cos<\vec{n_1},\vec{n_2}>$$
### 两线夹角
$$\cos\theta=\cos<\vec{s_1},\vec{s_2}>$$
### 线面夹角
$$\sin\varphi = |\cos<\vec{n},\vec{s}>|$$
注意
$$0\le\varphi\le\frac{\pi}{2}$$
## 直线关系
### 共面
异面距离为 $0$
$$[\vec{s_1}\;\vec{s_2}\;\vec{P_1, P_2}]=0$$
### 平行
$$\vec{s_1}\times\vec{s_2} = 0$$
$\vec{s_1}$ 与 $\vec{s_2}$ 成比例
## 平面束方程 P27
$$A_1x+B_1y+C_1z+D_1+\mu(A_2x+B_2y+C_2z+D_2)=0$$
表示过直线的任意平面, 可用于求过已知直线的特定平面
## 曲面
### 旋转曲面
求任意曲线绕轴旋转得到的曲线
1. 化为参数方程 或直接令$z=t$
2. $$z=z(t)\\
x^2(t)+y^2(t)=f^2(t)$$
3. $$x^2+y^2=f^2(z)$$
### 曲面参数方程
$$x=x(u,v)\\
y=y(u,v)\\
z=z(u,v)$$
二维, 两个参数
## 曲线
###  一般方程
$$f(x,y,z)=0\\
g(x,y,z)=0
$$
两个曲面相交
### 参数方程
$$x=x(t)\\
y=y(t)\\
z=z(t)$$
一维, 一个参数
### 投影曲线
对于曲线L
$$f(x,y,z)=0\\
g(x,y,z)=0$$
消去方程组的 $z$ (投影到 $xy$ 面)得到投影曲线
$$F(x,y)=0\\
z=0
$$

注意其中的 $z=0$ 不可少, 以表示 $xy$ 面上的曲线

## 二次曲线
### 椭球面
$$\frac{x^2}{a^2}+\frac{y^2}{b^2}+\frac{z^2}{c^2}=1
$$
全系数为正
### 单叶双曲面
$$\frac{x^2}{a^2}+\frac{y^2}{b^2}-\frac{z^2}{c^2}=1
$$
一个系数为负  
$zx$ 截面为交于 $x$ 轴的双曲线  
$xy$ 截面为椭圆
### 双叶双曲面
$$-\frac{x^2}{a^2}-\frac{y^2}{b^2}+\frac{z^2}{c^2}=1
$$
两个系数为负  
$zx$ 截面为交于 $z$ 轴的双曲线  
$xy$ 截面为椭圆或无  
### 椭圆抛物线
$$\frac{x^2}{a^2}+\frac{y^2}{b^2}=z$$
对照 $x^2=y$  
没有常数项
### 椭圆锥面
$$\frac{x^2}{a^2}+\frac{y^2}{b^2}=\frac{z^2}{c^2}$$
或
$$\frac{x^2}{a^2}+\frac{y^2}{b^2}-\frac{z^2}{c^2}=0$$
注意区别, 椭圆锥面没有常数项