---
order: 5
---

# 行列式
> 参考教程 [麻省理工公开课 线性代数](https://www.bilibili.com/video/BV1zx411g7gq) P18~P20

## 行列式基础
行列式为所有==方阵==都具有的一个特殊值  
使用 $\det(A)$ 或 $|A|$ 表示方阵 $A$ 的行列式  
当 $\det(A)=0$ 表示矩阵不可逆

### 行列式的基本性质
行列式具有以下四个基本性质

#### 基本性质一
对于任意单位矩阵 $I$, 其行列式为 $1$  
$$\det(I)=1$$

#### 基本性质二
当矩阵内的两行被交换后, 其行列式的值取反
* 注意该性质表明, 无法通过奇数次行交换得到与偶数次行交换相同的结果
$$\begin{vmatrix}a&b\\ c&d\end{vmatrix}=-\begin{vmatrix}c&d\\ a&b\end{vmatrix}$$

#### 基本性质三
当矩阵内的任意一行乘上系数 $k$, 其行列式的值也乘上该系数 $k$
$$\begin{vmatrix}ka&kb\\ c&d\end{vmatrix}=k\begin{vmatrix}a&b\\ c&d\end{vmatrix}$$

#### 基本性质四
当两个除特定一行不同, 其余相同的两个矩阵的行列式之和, 等于该行系数相加, 其余不变的矩阵的行列式
$$\begin{vmatrix}a+u&b+v\\ c&d\end{vmatrix}=\begin{vmatrix}a&b\\ c&d\end{vmatrix}+\begin{vmatrix}u&v\\ c&d\end{vmatrix}$$

最后两个性质表明, ==行列式不满足线性性, 但行列式每一行单独满足线性性==

### 重要推论
根据行列式的基本性质, 可得出以下推论

#### 推论一
当矩阵中有两个相同的行, 则该矩阵的行列式为 $0$  
该推论可由基本性质 $2$ 得到, 因为行交换后符号取反但矩阵不变, 行列式仅能是 $0$
$$\begin{vmatrix}a&b\\ a&b\end{vmatrix}=0$$

#### 推论二
矩阵的第 $i$ 行乘上系数 $k$ 减去第 $j$ 行, 行列式不变  
该推论可由推论 $1$ 与基本性质 $3,4$ 得到
$$\begin{vmatrix}a&b\\ c-ka&d-kb\end{vmatrix}=\begin{vmatrix}a&b\\ c&d\end{vmatrix}-k\begin{vmatrix}a&b\\ a&b\end{vmatrix}=\begin{vmatrix}a&b\\ c&d\end{vmatrix}$$

#### 推论三
当矩阵有一行全为 $0$, 则该矩阵的行列式为 $0$  
该推论可由基本性质 $3$ 得到, 全为 $0$ 相当于对一行乘上系数 $0$, 得到的行列式为 $0$  
$$\begin{vmatrix}a&b\\ 0&0\end{vmatrix}=0$$

#### 推论四
对于上三角方阵 $U$, 其行列式为对角线上的==元素 (主元) 之积==  
* 首先 $U$ 可通过推论 $2$ 化简为对角线方阵 $D$
* 然后根据基本性质 $3$ 提取各行的对角线上的系数得到的单位矩阵 $I$
* 最后根据基本性质 $1$, 可得矩阵的行列式即对角线上的元素之积
* 由此可得计算行列式的基本方法为通过[消元法](./ch1.md#高斯消元法)得到矩阵的所有主元, 将主元相乘得到行列式
$$\begin{vmatrix}d_1&*&*\\ 0&d_2&*\\0&0&d_3\end{vmatrix}=d_1d_2d_3$$

#### 推论五
当 $n\times n$ 矩阵的秩 $r<n$, 即矩阵不可逆时, 该矩阵的行列式为 $0$  
也可以认为, ==当矩阵可逆时, 其行列式 $\neq 0$==
根据推论 $4$ 可得, $r<n$ 表明对角线上存在 $0$, 因此行列式为 $0$

#### 推论六
两个方阵相乘的行列式, 等于两个矩阵分别计算行列式后相乘, 即 $\det(AB)=\det(A)\cdot \det(B)=\det(BA)$ (证明略)
* 该推论可推出结论, 对于可逆矩阵 $A$, 其逆的行列式为自身行列式的倒数 $\det(A^{-1})=1/\det(A)$
* 矩阵平方的行列式等于其行列式的平方 $\det(A^2)=\det^2(A)$
* 注意矩阵的数乘 $k$ 相当于对各列乘以系数 $k$, 因此, 对于 $n\times n$ 的矩阵 $A$ 根据性质 $3$, $k\cdot \det(A)=k^{n}\det(A)$
* 若 $A,B$ 不为方阵, 则该推论不成立

#### 推论七
矩阵的转置的行列式与未转置的行列式相同 $\det(A)=\det(A^T)$ (证明略)
* 该推论表明与行有关的性质 $2,3,4$ 以及推论 $1,2,3$ 对于列同样成立

## 行列式的计算
### 二乘二矩阵的行列式
现有 $2\times 2$ 的任意矩阵, 推导其行列式的一般计算方法

$$\begin{split}
\begin{vmatrix}a&b\\ c&d\end{vmatrix}&=\begin{vmatrix}a&0\\ c&d\end{vmatrix}+\begin{vmatrix}0&b\\ c&d\end{vmatrix}\\
&=\begin{vmatrix}a&0\\ c&0\end{vmatrix}+\begin{vmatrix}a&0\\ 0&d\end{vmatrix}+\begin{vmatrix}0&b\\ c&0\end{vmatrix}+\begin{vmatrix}0&b\\ 0&d\end{vmatrix}\\
&=\begin{vmatrix}a&0\\ 0&d\end{vmatrix}-\begin{vmatrix}b&0\\ 0&c\end{vmatrix}\\
&=ad-bc
\end{split}$$

### 一般矩阵的行列式
对于 $n\times n$ 的任意行列式   
根据 $2\times 2$ 矩阵行列式计算公式可得, 其最终都可利用[基本性质三](#基本性质三)拆分为 $n^n$ 个, 每行仅有一个元素的行列式  
这些被拆分的行列式中, 又仅有 $n!$ 个行列式每列仅有一个元素, 根据[推论三](#推论三)与[推论七](#推论七) 其余的行列式为 $0$  
最终剩余的 $n!$ 个行列式每列仅有一个元素, 可通过[基本性质二](#基本性质二)进行行交换, 转换为对角线矩阵  
因此一般矩阵的行列式即 (注意正负号需要根据行交换的次数决定)
$$|A|=\sum_{k=1}^{n!}\pm\prod_{i=1}^n a_{im}$$

### 代数余子式
对于 $n\times n$ 的任意行列式 $|A|$ , 取其中任意一个元素 $a_{ij}$  
将行列式的第 $i$ 行与第 $j$ 列的元素去除, 将余下的元素组成一个新的行列式 $|A'_{ij}|$ , 将该行列式的值称为**余子式**

当 $i+j$ 为奇数时, 将行列式的值乘以 $-1$, 将此时的结果称为**代数余子式**, 对于 $a_{ij}$ 的代数余子式 $c_{ij}$ 满足  
$$c_{ij}=\begin{cases}
|A'_{ij}|&,i+j\text{为偶数}\\
-|A'_{ij}|&,i+j\text{为奇数}
\end{cases}$$ 

易得, 代数余子式 $c_{ij}$ 的本质即[一般矩阵的行列式](#一般矩阵的行列式)中, 所有包含 $a_{ij}$ 的项提出 $a_{ij}$ 后的和

因此, 对于第 $k$ 行的元素, 矩阵的行列式满足
$$|A|=\sum_{i=1}^n a_{ki}c_{ki}$$

其中
* 一般取 $k=1$ 或矩阵中 $0$ 最多的行使用代数余子式计算行列式
* 根据公式可得, ==使用新的系数 $b_{ki}$ 代替原系数 $a_{ki}$, 就能得到将原矩阵中的第 $k$ 行换为 $\vec{b}$ 后的行列式==
* 根据[推论 $7$](#重要推论) 可得, 取矩阵的第 $k$ 列也能得到相同形式的行列式计算公式

## 行列式的应用
### 矩阵求逆公式
根据[代数余子式](#代数余子式)的特点, 可以得到如下矩阵求逆的通用公式
$$A^{-1}=\frac{C^T}{\det(A)}$$

其中 $C$ 为代数余子式矩阵, 即 $c_{ij}$ 对应矩阵 $A$ 中元素 $a_{ij}$ 的代数余子式  
称其转置 $C^T$ 为**伴随矩阵** 

证明如下  
上述命题等价于
$$AC^T=\begin{bmatrix}
a_{11}&a_{12}&\dots&a_{1n}\\
\vdots&\vdots&&\vdots\\
a_{n1}&a_{n2}&\dots&a_{nn}
\end{bmatrix}\begin{bmatrix}
c_{11}&\dots&c_{n1}\\
c_{12}&\dots&c_{n2}\\
\vdots&&\vdots\\
c_{1n}&\dots&c_{nn}
\end{bmatrix}=\det(A)I$$

根据矩阵乘法法则, 矩阵 $A$ 与 $C^T$ 相乘的结果 $B$ 中, 第 $u$ 行 $v$ 列元素 $b_{uv}$ 来自 $A$ 的第 $u$ 行与 $C^T$ 的第 $v$ 列相乘
* 当 $u=v$, $b_{uu}=\sum_{i=1}^n a_{ui}c_{ui}$ 即 $\det(A)$ 行列式的计算公式, 因此 $b_{uv}=\det(A)$
* 当 $u\neq v$, 认为 $b_{uv}=\sum_{i=1}^n a_{ui}c_{vi}$ 为行列式 $\det(A_s)$ 的计算公式, 但是 $A_s$ 中的第 $v$ 行被替换成了 $A$ 中的第 $u$ 行, 此时 $A_s$ 中有两行相等, 显然 $b_{uv}=\det(A_s)=0$

因此公式成立

### 克拉默法则
在得到矩阵的求逆公式后, 将其用于含可逆矩阵的线性方程组求解, 有
$$\begin{split}
A\vec{x}&=\vec{b}\\
\vec{x}&=\frac{1}{\det(A)}C^T\vec{b}
\end{split}$$

根据变形结果可得, 对于方程的解 $x_k$ 满足
$$x_k=\frac{\sum_{i=1}^n b_ic_{ik}}{\det(A)}=\frac{\det(B_k)}{\det(A)}$$

对比代数余子式下的[矩阵行列式公式](#代数余子式), $\sum_{i=1}^n b_ic_{ik}$ 相当于==将 $A$ 的第 $k$ 列替换为 $\vec{b}$== 的矩阵 $B_k$  
因此可将含可逆矩阵的线性方程组求解转换为行列式的代数表达式, 称为**克莱姆法则**

## 体积与行列式
### 等价证明
将行列式的 $n$ 列视为 $n$ 条边, 以原点为一个顶点, 构成一个具有 $2n$ 条边的平行体  
而行列式的绝对值即该平行体的体积 (行列式的符号反应边之间的顺序)

以三维的情况为例, 行列式的值反映了一个平行六面体的体积  
现对照行列式的[四个基本性质](#行列式的基本性质)来证明这一命题

1. 对于单位矩阵 $I$, 其三个列反应了一个三维空间中的一个体积为 $1$ 的单位立方体, 与行列式相同
    * 对于正交矩阵 $Q$, 由于 $Q^TQ=I$, 有 $1=\det(Q^TQ)=\det(Q^T)\det(Q)=\det^2(Q)$  
    可得, $\det(Q)=\pm 1$ 因此正交矩阵的三列反映了一个旋转了一定角度的单位立方体
1. 对于任意矩阵 $A$, 该矩阵的行交换相当于其转置 $A^T$ 的列交换, 行列式的绝对值始终不变  
对于体积, 边的顺序对体积没有影响, 因此体积的特性也符合该性质
1. 当平行六面体的一条边伸长 $k$ 倍, 显然其体积也将增大 $k$ 倍, 该性质与行列式的基本性质 $3$ 相符合

![](./src/det_volume.drawio.svg)

对于性质 $4$, 可用二维情况下的如图所示的平行四边形表示  
如图所示, 对于同一斜边 $\vec{b}$, 以 $\vec{a}_1$ 和以 $\vec{a}_2$ 为斜边的两个平行四边形面积之和等于以 $\vec{a}_1+\vec{a}_2$ 为斜边的平行四边形面积  
推广到高维依然成立, 因此体积的该性质与行列式的基本性质 $4$ 一致

### 三角形面积
当三角形的三个顶点 $(x_k,y_k),k=1,2,3$ 已知, 可通过如下行列式求出三角形的面积
$$S=\frac{1}{2}\begin{vmatrix}
x_1&y_1&1\\
x_2&y_2&1\\
x_3&y_3&1
\end{vmatrix}$$

通过消元法消去右下角的两个 $1$, 在最后一列以代数余子式的方式展开时, 仅剩下右上角的 $1$ 乘以下方的行列式  
该行列式的两行即将第一点移动至原点后三角形另外两边  
通过乘以 $\frac{1}{2}$, 将平行四边形, 三角形的面积即该平行四边形面积 (行列式) 的一半

### 向量交叉积
定义三维空间中两个向量 $\vec{u},\vec{v}$ 的交叉积为 $\vec{u}\times\vec{v}$, 满足
$$\vec{u}\times\vec{v}=\begin{vmatrix}
\vec{i}&\vec{j}&\vec{k}\\
u_1&u_2&u_3\\
v_1&v_2&v_3
\end{vmatrix}$$  

交叉积具有以下性质
1. $\vec{u}\times\vec{v}=-\vec{v}\times\vec{u}$
1. 交叉积的结果与向量 $\vec{u},\vec{v}$ 正交, 因此 $\vec{u}\cdot(\vec{u}\times\vec{v})=0$, 且满足右手定则
1. 两个同方向向量的交叉积结果为向量 $\vec{0}$, 即 $(k\vec{u})\times\vec{u}=0$
1. 交叉积结果的绝对值为以 $\vec{u},\vec{v}$ 为边的平行四边形的面积, 因此 $|\vec{u}\times\vec{v}|=|\vec{u}||\vec{v}||\sin\theta|$