---
order: 7
---

# 模拟电路

## 放大电路
### 基本放大电路的分类
#### 共发射极放大电路
![](./src/%E5%85%B1%E5%8F%91%E5%B0%84%E6%9E%81%E6%94%BE%E5%A4%A7%E7%94%B5%E8%B7%AF.jfif)

* 最基本的放大电路
* 输入与输出的信号反相

#### 分压式偏置放大电路
![](./src/%E5%88%86%E5%8E%8B%E5%BC%8F%E5%81%8F%E7%BD%AE%E7%94%B5%E8%B7%AF.jpg)

* 相比一般放大电路, 具有稳定的静态点
* 输入与输出的信号反相

#### 射极输出器
![](./src/%E5%B0%84%E6%9E%81%E8%BE%93%E5%87%BA%E5%99%A8.webp)

* 几乎无法放大信号
* 输入电阻极大, 输出电阻极小, 用于中间层

### 符号表达
#### 静态分量
* $I_B$
#### 交流分量
* 瞬时值 $i_b$
* 相量 $\dot{I_b}$
#### 总量
* 瞬时值 $i_B$

### 通路转换
#### 直流通路
1. 用于计算静态值
1. 认为电容为断路
1. 认为没有信号输入

#### 交流通路
1. 用于计算放大倍数
1. 认为电容为短路
1. 认为没有直流电源, 将直流电压认为是接地
1. 三极管转化为一个受控源 $i_c=\beta i_b$ 与 $r_{be}\approx 200\Omega+(1+\beta)\frac{26(mA)}{I_E(mA)}$
1. 计算时多采用相量的形式

### 基本放大电路相关计算
#### 通用注意
计算前可以先将并联 / 串联的电阻等效为一个电阻

#### 静态点计算
1. 均需要考虑 $U_{BE}\approx 0.7V$ 的影响
1. 均从 $I_B/V_B$ 的计算入手, 如果有 $I_E$ 则带入 $I_E=(1+\beta)I_B$
1. 均采用近似 $I_C\approx I_E$, 与 $I_B$ 的关系取决于计算 $U_{CE}$ 时采用的值, 通常用于计算 $U_{CE}$ 的采用准确关系 (一般 $I_C$ 优先)
1. 通常选择一条由 $U_{CC}$ 到 $GND$ 的支路, 使用 $KVL$ 计算

#### 输入电阻
1. 以信号源与信号源内阻为两端, 计算放大电路其他部分在这两端的等效电阻
1. 将信号源部分移去, 假设加有电压 $\dot{U_i}$, 计算相应的 $\dot{I_i}$, 可得到 $r_i=\frac{\dot{U_i}}{\dot{I_i}}$
1. 注意 $\dot{U_i}$ 与 $\dot{I_i}$ 为非关联方向 (模拟电源)
1. 当输出端有负载 $R_L$ 时要考虑 (对于放大电路不会有影响)
1. 输入电阻越大越好, 表明了放大电路捕捉信号的能力

#### 输出电阻
1. 以负载为两端, 计算放大电路其他部分在这两端的等效电阻
1. 计算等效电阻时需要==置零所有的理想电源== (对于放大电路, 此时 $\dot{I_b}=0$)
1. ==将负载移去==, 假设加有电压 $\dot{U_o}$, 计算相应的 $\dot{I_o}$, 可得到 $r_o=\frac{\dot{U_o}}{\dot{I_o}}$
1. 注意 $\dot{U_o}$ 与 $\dot{I_o}$ 为非关联方向 (模拟电源)
1. 当输入端有内阻 $R_S$ 时要考虑 (对于放大电路不会有影响)
1. 输出电阻越小越好, 表明了放大电路提供信号的能力

#### 放大倍数
1. 分别使用 $\dot{I_b}$ 表示 $\dot{U_o}$ 与 $\dot{U_i}$, 即可得到 $Au=\frac{\dot{U_o}}{\dot{U_i}}$
1. 注意放大电路一般 $Au<0$
1. 注意射极输出器一般 $Au\approx 1$
1. 通常需要用到负载 $R_L$
1. 注意计算内阻时电源置零, 但计算放大倍数时不置零

#### 多级电路计算
1. 负载电阻大小为下一级的输入电阻 $R_{Ln}=r_{in+1}$
1. 信号内阻大小为上一级的输出电阻 $R_{Sn}=r_{on-1}$
1. 通常一般放大电路的等效电阻可以避开与上下级的关联, 因此可以单独计算
1. 放大倍数一定会用到 $R_L$, 因此要先计算 $r_{in}$ 才能计算 $Au$
1. 总放大倍数 $Au=Au_1Au_2...Aun$
1. 总内阻满足 $r_i=r_{i0}$, $r_o=r_{on}$
1. 计算前需要先明确划分各级电路, 划分的两端即用于计算等效电阻的端口, 外部属于负载 / 内阻
1. 如果出现功能重叠的电阻, 则根据题目的标号划分, 并在计算时, 如果没有发挥作用则排除

### 差分放大电路
![](./src/%E5%B7%AE%E5%88%86%E6%94%BE%E5%A4%A7%E7%94%B5%E8%B7%AF.jpg)

* 通过对称结构消除零点漂移
* 具有两个输入与两个输出, 通常将一个输出作为正极, 另一个作为负极
#### 静态分析
1. 静态分析时, 仅需要关注一侧即可, 两侧对称
1. 认为差分放大电路的 $I_B\ll I_E=I_C$, $U_{BE}\approx 0$, 因此从 $u_{I1}$(此时视为地) 到 $-V_{EE}$ 的通路上, $V_{EE}$ 完全加在 $R_e$ 上
1. 注意, 有两个相同的 $I_E$ 流过 $R_e$, 因此 $V_{EE}=2I_ER_e$
1. 采用 $I_B=\frac{I_C}{\beta}=\frac{I_E}{\beta}$

#### 双端输入动态分析
1. 仅当差模输入 $u_{i1}=-u_{i2}$ 时能够放大, 共模输入输出 $0$ (对称)
1. 分析时仅分析一侧, 另一侧对称
1. 由于差模输入, 因此 $i_{E1}=-i_{E2}$, $i_E=0$, 可以忽略 $R_E$ 的影响
1. 晶体管的转化放大与其他放大电路相同
1. 当存在负载时 $R_L$ , 根据对称性, 可将负载分为两个 $R'_L=\frac{1}{2}R_L$, 中间接地

#### 双端输入计算
1. 分析单侧电路时, 采用 $Ad=\frac{u_{o1}}{u_{i1}}$
1. 分析总体时, 认为输入为 $u_i=u_{i1}-u_{i2}=2u_{i1}=-2u_{i2}$, 输出分为单侧 $u_{o1}$ 与双侧 $u_o=u_{o1}-u_{o2}=2u_{o1}=-2u_{o2}$
1. 因此对于不同侧的单侧输出与单侧双侧输出的放大倍数 $Au$ 均不同
1. 计算输入电阻时, 假设单侧加有电压 $\frac{1}{2}u_i$ (与一般不同)
1. 计算输出电阻时, 单侧输出则假设单侧输出端有电压 $u_o$, 否则假设单侧输出端有电压 $\frac{1}{2}u_o$

#### 一般输入计算
1. 不可以直接分析一般输入, 因为差模输入采用了忽视 $R_E$ 的假设
1. 可将一般输入分为差模部分 $u_d$ 与共模部分 $u_e$, 因此有 $u_{i1}=u_e+u_d$, $u_{i2}=u_e-u_d$
1. 差模放大电路仅放大差模部分 $u_d$, 并且动态特性与差模输入时完全相同
1. 对于单端输入即一般输入的极端情况, 即 $u_e=u_d=\frac{1}{2}u_i$, 因此特性依然不变

<!-- ## 场效应晶体管 -->

## 运算放大器
### 理想运算放大器
![](./src/%E7%90%86%E6%83%B3%E8%BF%90%E6%94%BE.jpg)
#### 元件特性
1. 放大倍数 $Au\to\infty$
1. 差模输入电阻 $r_{id}\to\infty$, 因此输入电流 $i_+\approx i_-\approx 0$, 称为虚断
1. 开环输出电阻 $r_o\to 0$
1. 注意运算放大器为有源元件, 正常工作还需要有电源 $V_CC$ 与接地 $GND$, 只是图例上没有表示
1. 虽然放大倍数极大, 但是最大输出电压 $U_{O(sat)}\approx V_{CC}-2V$
1. 根据是否达到最大输出电压, 分为线性区与饱和区
1. 线性区中, 输入电压被放大, 满足 $u_o=Au\cdot u_i\to u_i\approx 0\to u_+\approx u_-$, 称为虚短, 仅在线性区成立, 通过反馈电阻 $R_f$ 实现扩大线性区

#### 线性区计算方法
1. 根据虚断 $i_+\approx i_-\approx 0$, 使用 $u_o$ 与 $u_in$ 表示 $u_+$ 与 $u_-$
1. 根据虚短 $u_+\approx u_-$, 联立得到的表达式, 解出 $u_o$
1. 平衡条件: 由于运算放大器的第一级为差分放大电路, 根据对称性要求, 在静态情况下 (各信号端均为地), 两个输入端与地之间的电阻应相同
1. 注意电流与电压的参考方向, 最好以电流方向的压降计算, 可根据反向接 $u_-$ 的原则检查结果

### 运算电路设计
#### 设计原则
1. 两个输入端与地之间的电阻应相同, 保证平衡条件
1. 当输入与输出信号相反时 (在输出结果中系数为负数), 应接入 $u_-$ 端, 否则接入 $u_+$ 端
1. 必须有反馈电阻 $R_f$, 并且通过 $R_f$ 连接 $u_-$ 端与 $u_o$ 端

#### 线性运算电路
![](./src/%E7%BA%BF%E6%80%A7%E8%BF%90%E7%AE%97.jpg)
1. 设计电路前首先确定 $R_F$
1. 接在反馈电阻一侧的信号源为反相输出, 记为 $U_{inx}$, 电阻记为 $R_{inx}$, 根据系数满足 $R_{inx}=R_F/n_x$
1. 接在 $GND$ 一侧的信号源为同相输出, 记为 $U_{ipx}$, 电阻记为 $R_{ipx}$, 根据系数满足 $R_{ipx}=R_F/p_x$
1. 最后确定平衡电阻 $R_b=R_F/(1-\sum p_x+\sum n_x)$
1. 平衡电阻不可为负数, 因此 $1-\sum p_x+\sum n_x>0$

##### 特殊变形
1. 当所有 $U_{ipx}=0$, 即得到反相加法电路
1. 当没有正相输入的信号, 即正相输入接地, 即虚地, 可以使通过 $R_F$ 的电流不变
1. 仅有正相或反相时, 可以令对应系数为 $0$, 或将地作为输入信号, 以保证条件 $1-\sum p_x+\sum n_x>0$ 成立
1. 当 $R_b\to\infty$, 表明 $1-\sum p_x+\sum n_x=0$, 依然成立
1. 当 $R_b\to\infty$, 且仅有一个正相输入时, 即为输出跟随器, 放大倍数必定为 $1$

## 电路中的反馈
### 电路快速判断
#### 电压
当一个节点的电压下降时, 此节点到其他任何固定电压的节点 (地, 虚短, 电压源) 的通路上的节点的电压均会下降

#### 电流
* 当电阻一侧的电压上升, 另一侧不变时, 则有电压上升一侧向不变一侧电流增加, 反之, 电流增加, 电流来源一侧电压增大
* 对于一个节点, 当仅有两条支路电流发生变化 (其他支路两侧电压不变), 则当其中一条电流流入增加, 另一条必定流出增加

